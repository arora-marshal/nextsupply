"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["easy-quick-view.plugin"],{665:(e,t,s)=>{s.r(t),s.d(t,{default:()=>E});var i=s(107),a=s(266);let r="loader",n={BEFORE:"before",INNER:"inner"};class o{create(){if(!this.exists()){if(this.position===n.INNER){this.parent.innerHTML=o.getTemplate();return}this.parent.insertAdjacentHTML(this._getPosition(),o.getTemplate())}}remove(){let e=this.parent.querySelectorAll(".".concat(r));a.Z.iterate(e,e=>e.remove())}exists(){return this.parent.querySelectorAll(".".concat(r)).length>0}_getPosition(){return this.position===n.BEFORE?"afterbegin":"beforeend"}static getTemplate(){return'<div class="'.concat(r,'" role="status">\n                    <span class="').concat("visually-hidden",'">Loading...</span>\n                </div>')}static SELECTOR_CLASS(){return r}constructor(e,t=n.BEFORE){this.parent=e instanceof Element?e:document.body.querySelector(e),this.position=t}}let l="element-loader-backdrop";class c extends o{static create(e){e.classList.add("has-element-loader"),c.exists(e)||(c.appendLoader(e),setTimeout(()=>{let t=e.querySelector(".".concat(l));t&&t.classList.add("element-loader-backdrop-open")},1))}static remove(e){e.classList.remove("has-element-loader");let t=e.querySelector(".".concat(l));t&&t.remove()}static exists(e){return e.querySelectorAll(".".concat(l)).length>0}static getTemplate(){return'\n        <div class="'.concat(l,'">\n            <div class="loader" role="status">\n                <span class="').concat("visually-hidden",'">Loading...</span>\n            </div>\n        </div>\n        ')}static appendLoader(e){e.insertAdjacentHTML("beforeend",c.getTemplate())}}var d=s(709);let h=Object.freeze(new class{init(e){Object.entries(e).forEach(e=>{let[t,s]=e;this.flags[t]=s})}isActive(e){return!!Object.prototype.hasOwnProperty.call(this.flags,e)&&this.flags[e]}constructor(){this.flags={},window.features&&this.init(window.features)}});class u{static init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h.init(e)}static isActive(e){return h.isActive(e)}constructor(){window.Feature=this}}var p=s(206);let m="modal-backdrop",_="modal-backdrop-open",v="no-scroll",g={ON_CLICK:"backdrop/onclick"};class b{create(e){this._removeExistingBackdrops(),document.body.insertAdjacentHTML("beforeend",this._getTemplate());let t=document.body.lastChild;document.documentElement.classList.add(v),setTimeout(function(){t.classList.add(_),"function"==typeof e&&e()},75),this._dispatchEvents()}remove(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:350,t=this._getBackdrops();a.Z.iterate(t,e=>e.classList.remove(_)),setTimeout(this._removeExistingBackdrops.bind(this),e),document.documentElement.classList.remove(v)}_dispatchEvents(){let e=p.Z.isTouchDevice()?"touchstart":"click";document.addEventListener(e,function(e){e.target.classList.contains(m)&&document.dispatchEvent(new CustomEvent(g.ON_CLICK))})}_getBackdrops(){return document.querySelectorAll(".".concat(m))}_removeExistingBackdrops(){if(!1===this._exists())return;let e=this._getBackdrops();a.Z.iterate(e,e=>e.remove())}_exists(){return document.querySelectorAll(".".concat(m)).length>0}_getTemplate(){return'<div class="'.concat(m,'"></div>')}constructor(){return b.instance||(b.instance=this),b.instance}}Object.freeze(new b);let y="js-pseudo-modal";class f{updateContent(e,t,s){let a=new i.Z,r=d.Z.querySelector(e,".modal-body");r.innerHTML="",c.create(r),a.get(t,f.executeCallback.bind(this,e=>{c.remove(r),r.innerHTML=e,"function"==typeof s&&s()}))}open(e){this._create(),setTimeout(this._open.bind(this,e),350)}_create(){this._modalMarkupEl=d.Z.querySelector(document,this._templateSelector),this._createModalWrapper(),this._modalWrapper.classList.add(this._style.class),c.create(this._modalWrapper),this._modal=this._createModalMarkup(),d.Z.querySelector(this._modal,".modal-dialog").classList.add(this._style.position),this._$modal=$(this._modal),document.body.insertAdjacentElement("beforeend",this._modalWrapper)}close(){let e=this.getModal();u.isActive("v6.5.0.0")?this._modalInstance=bootstrap.Modal.getInstance(e):$(e).modal("hide")}getModal(){return this._modal||this._create(),this._modal}updatePosition(){u.isActive("v6.5.0.0")?this._modalInstance.handleUpdate():this._$modal.modal("handleUpdate")}_open(e){this.getModal(),u.isActive("v6.5.0.0")?(this._modal.addEventListener("hidden.bs.modal",this._modalWrapper.remove),this._modal.addEventListener("shown.bs.modal",e),this._modalInstance.show()):(this._$modal.on("hidden.bs.modal",this._modalWrapper.remove),this._$modal.on("shown.bs.modal",e),this._$modal.modal({backdrop:this._useBackdrop}),this._$modal.modal("show"))}_createModalWrapper(){this._modalWrapper=d.Z.querySelector(document,".".concat(y),!1),this._modalWrapper||(this._modalWrapper=document.createElement("div"),this._modalWrapper.classList.add(y))}_createModalMarkup(){let e=d.Z.querySelector(this._modalWrapper,".modal",!1);if(e)return e;let t=this._modalWrapper.innerHTML;return this._modalWrapper.innerHTML=this._modalMarkupEl.innerHTML,this._setModalContent(t),this._client.get(this._url,f.executeCallback.bind(this,e=>{c.remove(this._modalWrapper),this._setModalContent(e),"function"==typeof this._callback&&this._callback(),setTimeout(this._open.bind(this),this._delay)})),d.Z.querySelector(this._modalWrapper,".modal")}_setModalTitle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{d.Z.querySelector(this._modalWrapper,this._templateTitleSelector).innerHTML=e}catch(e){}}_setModalContent(e){let t=d.Z.querySelector(this._modalWrapper,this._templateContentSelector);t.innerHTML=e;try{let e=d.Z.querySelector(t,this._templateTitleSelector);e&&(this._setModalTitle(e.innerHTML),e.parentNode.removeChild(e))}catch(e){}}static executeCallback(e,t){"function"==typeof e&&e(t)}constructor(e,t=null,s=!0,a=".".concat("js-pseudo-modal-template"),r=".".concat("js-pseudo-modal-template-content-element"),n=".".concat("js-pseudo-modal-template-title-element")){this._url=e,this._callback=t,this._useBackdrop=s,this._templateSelector=a,this._templateContentSelector=r,this._templateTitleSelector=n,this._client=new i.Z,this._style={class:"easy-quickview",position:"modal-dialog-centered"}}}class E extends window.PluginBaseClass{init(){this._easyQuickModal,this._registerEvents()}_registerEvents(){this.el.addEventListener("click",this._onClick.bind(this))}_onClick(e){e.preventDefault();try{let e=this.el.dataset.easyQuick;this._easyQuickModal=new f(e,this._callback.bind(this),!0),this._easyQuickModal.open(()=>{}),this._modal=this._easyQuickModal.getModal()}catch(e){console.log(e)}}_callback(){this._prepareLeaf(),this._addEventShoppingBtn(),window.PluginManager.initializePlugins()}_addEventShoppingBtn(){let e=d.Z.querySelector(this._modal,".btn-buy");e&&e.addEventListener("click",this._close.bind(this))}_close(){$(this._modal).modal("hide")}_prepareLeaf(){let e=d.Z.querySelector(this._modal,".modal-body"),t=document.createElement("button"),s=document.createElement("button");if(t.classList.add(this.options.classBtnLeaf,"prev"),s.classList.add(this.options.classBtnLeaf,"next"),e.prepend(t),e.prepend(s),this._parent||(this._parent=this.el.closest(this.options.elParentSelector)),d.Z.isNode(this._parent)){let e=this._parent.previousElementSibling,i=this._parent.nextElementSibling;e?t.dataset.easyQuickPrev=d.Z.querySelector(e,this.options.elSelector).dataset.easyQuick:t.style.display="none",i?s.dataset.easyQuickNext=d.Z.querySelector(i,this.options.elSelector).dataset.easyQuick:s.style.display="none",t.addEventListener("click",this._updateModalContent.bind(this,t.dataset.easyQuickPrev)),s.addEventListener("click",this._updateModalContent.bind(this,s.dataset.easyQuickNext))}else t.style.display="none",s.style.display="none"}_updateModalContent(e){let t=document.body.querySelector('[data-easy-quick="'.concat(e,'"]'));t&&(this._parent=t.closest(this.options.elParentSelector)),this._easyQuickModal.updateContent(this._modal,e,this._callback.bind(this))}}E.options={elParentSelector:".cms-listing-col",elSelector:"[data-easy-quick]",classBtnLeaf:"btn-leaf",style:{class:"easy-quickview",position:"modal-dialog-centered"}}},206:(e,t,s)=>{s.d(t,{Z:()=>i});class i{static isTouchDevice(){return"ontouchstart"in document.documentElement}static isIOSDevice(){return i.isIPhoneDevice()||i.isIPadDevice()}static isNativeWindowsBrowser(){return i.isIEBrowser()||i.isEdgeBrowser()}static isIPhoneDevice(){return!!navigator.userAgent.match(/iPhone/i)}static isIPadDevice(){return!!navigator.userAgent.match(/iPad/i)}static isIEBrowser(){return -1!==navigator.userAgent.toLowerCase().indexOf("msie")||!!navigator.userAgent.match(/Trident.*rv:\d+\./)}static isEdgeBrowser(){return!!navigator.userAgent.match(/Edge\/\d+/i)}static getList(){return{"is-touch":i.isTouchDevice(),"is-ios":i.isIOSDevice(),"is-native-windows":i.isNativeWindowsBrowser(),"is-iphone":i.isIPhoneDevice(),"is-ipad":i.isIPadDevice(),"is-ie":i.isIEBrowser(),"is-edge":i.isEdgeBrowser()}}}},709:(e,t,s)=>{s.d(t,{Z:()=>a});class i{static ucFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}static lcFirst(e){return e.charAt(0).toLowerCase()+e.slice(1)}static toDashCase(e){return e.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()}static toLowerCamelCase(e,t){let s=i.toUpperCamelCase(e,t);return i.lcFirst(s)}static toUpperCamelCase(e,t){return t?e.split(t).map(e=>i.ucFirst(e.toLowerCase())).join(""):i.ucFirst(e.toLowerCase())}static parsePrimitive(e){try{return/^\d+(.|,)\d+$/.test(e)&&(e=e.replace(",",".")),JSON.parse(e)}catch(t){return e.toString()}}}class a{static isNode(e){return"object"==typeof e&&null!==e&&(e===document||e===window||e instanceof Node)}static hasAttribute(e,t){if(!a.isNode(e))throw Error("The element must be a valid HTML Node!");return"function"==typeof e.hasAttribute&&e.hasAttribute(t)}static getAttribute(e,t){let s=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(s&&!1===a.hasAttribute(e,t))throw Error('The required property "'.concat(t,'" does not exist!'));if("function"!=typeof e.getAttribute){if(s)throw Error("This node doesn't support the getAttribute function!");return}return e.getAttribute(t)}static getDataAttribute(e,t){let s=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=t.replace(/^data(|-)/,""),n=i.toLowerCamelCase(r,"-");if(!a.isNode(e)){if(s)throw Error("The passed node is not a valid HTML Node!");return}if(void 0===e.dataset){if(s)throw Error("This node doesn't support the dataset attribute!");return}let o=e.dataset[n];if(void 0===o){if(s)throw Error('The required data attribute "'.concat(t,'" does not exist on ').concat(e,"!"));return o}return i.parsePrimitive(o)}static querySelector(e,t){let s=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(s&&!a.isNode(e))throw Error("The parent node is not a valid HTML Node!");let i=e.querySelector(t)||!1;if(s&&!1===i)throw Error('The required element "'.concat(t,'" does not exist in parent node!'));return i}static querySelectorAll(e,t){let s=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(s&&!a.isNode(e))throw Error("The parent node is not a valid HTML Node!");let i=e.querySelectorAll(t);if(0===i.length&&(i=!1),s&&!1===i)throw Error('At least one item of "'.concat(t,'" must exist in parent node!'));return i}static getFocusableElements(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return e.querySelectorAll('\n            input:not([tabindex^="-"]):not([disabled]):not([type="hidden"]),\n            select:not([tabindex^="-"]):not([disabled]),\n            textarea:not([tabindex^="-"]):not([disabled]),\n            button:not([tabindex^="-"]):not([disabled]),\n            a[href]:not([tabindex^="-"]):not([disabled]),\n            [tabindex]:not([tabindex^="-"]):not([disabled])\n        ')}static getFirstFocusableElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return this.getFocusableElements(e)[0]}static getLastFocusableElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=this.getFocusableElements(e);return t[t.length-1]}}},266:(e,t,s)=>{s.d(t,{Z:()=>i});class i{static iterate(e,t){if(e instanceof Map||Array.isArray(e))return e.forEach(t);if(e instanceof FormData){for(var s of e.entries())t(s[1],s[0]);return}if(e instanceof NodeList)return e.forEach(t);if(e instanceof HTMLCollection)return Array.from(e).forEach(t);if(e instanceof Object)return Object.keys(e).forEach(s=>{t(e[s],s)});throw Error("The element type ".concat(typeof e," is not iterable!"))}}},107:(e,t,s)=>{s.d(t,{Z:()=>i});class i{get(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json",i=this._createPreparedRequest("GET",e,s);return this._sendRequest(i,null,t)}post(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";i=this._getContentType(t,i);let a=this._createPreparedRequest("POST",e,i);return this._sendRequest(a,t,s)}delete(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";i=this._getContentType(t,i);let a=this._createPreparedRequest("DELETE",e,i);return this._sendRequest(a,t,s)}patch(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";i=this._getContentType(t,i);let a=this._createPreparedRequest("PATCH",e,i);return this._sendRequest(a,t,s)}abort(){if(this._request)return this._request.abort()}setErrorHandlingInternal(e){this._errorHandlingInternal=e}_registerOnLoaded(e,t){t&&(!0===this._errorHandlingInternal?(e.addEventListener("load",()=>{t(e.responseText,e)}),e.addEventListener("abort",()=>{console.warn("the request to ".concat(e.responseURL," was aborted"))}),e.addEventListener("error",()=>{console.warn("the request to ".concat(e.responseURL," failed with status ").concat(e.status))}),e.addEventListener("timeout",()=>{console.warn("the request to ".concat(e.responseURL," timed out"))})):e.addEventListener("loadend",()=>{t(e.responseText,e)}))}_sendRequest(e,t,s){return this._registerOnLoaded(e,s),e.send(t),e}_getContentType(e,t){return e instanceof FormData&&(t=!1),t}_createPreparedRequest(e,t,s){return this._request=new XMLHttpRequest,this._request.open(e,t),this._request.setRequestHeader("X-Requested-With","XMLHttpRequest"),s&&this._request.setRequestHeader("Content-type",s),this._request}constructor(){this._request=null,this._errorHandlingInternal=!1}}}}]);