(window["webpackJsonpPluginssik-metro-light"]=window["webpackJsonpPluginssik-metro-light"]||[]).push([[332],{201:function(){},332:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return s}}),i(82);let{Mixin:n,Filter:l}=Shopware;var s={template:'\n{% block sw_cms_element_image_gallery %}\n<div\n    class="sw-cms-el-image-gallery"\n    :class="[galleryPositionClass, currentDeviceViewClass]"\n    :style="verticalAlignStyle"\n>\n\n    \n    {% block sw_cms_element_image_gallery_grid %}\n    <div\n        ref="galleryItemHolder"\n        class="sw-cms-el-image-gallery__grid"\n    >\n\n        <template v-if="mediaUrls && mediaUrls.length">\n            <div class="sw-cms-el-image-gallery__item-holder">\n                \n                {% block sw_cms_element_image_gallery_selection %}\n                <template\n                    v-for="(sliderItem, index) in mediaUrls"\n                    :key="index"\n                >\n                    <sw-media-list-selection-item-v2\n                        v-if="index < galleryLimit"\n                        :item="sliderItem.media"\n                        :class="activeMediaClass(sliderItem.media)"\n                        hide-actions\n                        hide-tooltip\n                        @click="onChangeGalleryImage(sliderItem.media, index)"\n                    />\n                </template>\n                {% endblock %}\n            </div>\n        </template>\n\n        <template v-else>\n            \n            {% block sw_cms_element_image_gallery_empty %}\n            <div class="sw-cms-el-image-gallery__item-holder">\n                <img\n                    v-for="mediaItem in getPlaceholderItems()"\n                    :key="mediaItem.url"\n                    class="sw-cms-el-image-gallery__item-placeholder"\n                    :src="mediaItem.url"\n                    alt=""\n                >\n            </div>\n            {% endblock %}\n        </template>\n\n        \n        {% block sw_cms_element_image_gallery_nav_arrow %}\n        <div\n            v-if="element.config.sliderItems.value.length > galleryLimit"\n            class="sw-cms-el-image-gallery__grid-arrow"\n        >\n            <sw-icon\n                name="regular-chevron-down"\n                size="20"\n            />\n        </div>\n        {% endblock %}\n    </div>\n    {% endblock %}\n\n    \n    {% block sw_cms_element_image_gallery_slider %}\n    <sw-cms-el-image-slider\n        :element="element"\n        :active-media="activeMedia"\n        @active-image-change="onChangeGalleryImage"\n    />\n    {% endblock %}\n</div>\n{% endblock %}\n',mixins:[n.getByName("cms-element")],data(){return{galleryLimit:3,activeMedia:null}},computed:{currentDeviceView(){return this.cmsPageState.currentCmsDeviceView},galleryPositionClass(){return`is--preview-${this.element.config.galleryPosition.value}`},currentDeviceViewClass(){return this.currentDeviceView?`is--${this.currentDeviceView}`:null},verticalAlignStyle(){return this.element.config.verticalAlign.value?`align-content: ${this.element.config.verticalAlign.value};`:null},mediaUrls(){let e=this.element?.config;return e&&"default"!==e.source?"mapped"===e.source?this.getDemoValue(e.sliderItems.value)||[]:this.element?.data?.sliderItems||[]:[]},isProductPage(){return(this.cmsPageState?.currentPage?.type??"")==="product_detail"},assetFilter(){return l.getByName("asset")}},watch:{currentDeviceView(){"mobile"===this.currentDeviceView&&(this.galleryLimit=0),setTimeout(()=>{this.setGalleryLimit()},400)},"element.config.galleryPosition.value":{deep:!0,handler(){this.$nextTick(()=>{this.setGalleryLimit()})}},"element.config.sliderItems.value":{handler(e){if(!e){this.element.config.sliderItems.value=[];return}this.$nextTick(()=>{this.setGalleryLimit()})}}},created(){this.createdComponent()},mounted(){this.mountedComponent()},methods:{createdComponent(){this.initElementConfig("ssik-metro-product-images"),this.initElementData("ssik-metro-product-images"),!this.isProductPage||this.element?.translated?.config?.sliderItems||this.element?.data?.sliderItems||(this.element.config.sliderItems.source="mapped",this.element.config.sliderItems.value="product.media",this.element.config.navigationDots.value="inside",this.element.config.zoom.value=!0,this.element.config.fullScreen.value=!0,this.element.config.displayMode.value="contain",this.element.config.minHeight.value="430px")},mountedComponent(){this.setGalleryLimit()},getPlaceholderItems(){return this.element?.config?.source!=="default"?[{url:this.assetFilter("administration/static/img/cms/preview_mountain_large.jpg")},{url:this.assetFilter("administration/static/img/cms/preview_mountain_large.jpg")},{url:this.assetFilter("administration/static/img/cms/preview_mountain_large.jpg")}]:this.element.config.sliderItems.value.map(e=>{let t=e.fileName.slice(e.fileName.lastIndexOf("/")+1);return{url:this.assetFilter(`/administration/static/img/cms/${t}`)}})},onChangeGalleryImage(e,t=0){e.sliderIndex=t,this.activeMedia=e},activeMediaClass(e){return this.activeMedia?{"is--active":e.id===this.activeMedia.id}:null},setGalleryLimit(){if(0===this.element.config.sliderItems.value.length)return;let e=0,t=0;"underneath"===this.element.config.galleryPosition.value?(e=this.$refs.galleryItemHolder.offsetWidth-36,t=92):(e=this.$refs.galleryItemHolder.offsetHeight,t=64),this.galleryLimit=Math.floor(e/(t+8))}}}},82:function(e,t,i){var n=i(201);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),i(346).Z("1457fe84",n,!0,{})},346:function(e,t,i){"use strict";function n(e,t){for(var i=[],n={},l=0;l<t.length;l++){var s=t[l],r=s[0],a={id:e+":"+l,css:s[1],media:s[2],sourceMap:s[3]};n[r]?n[r].parts.push(a):i.push(n[r]={id:r,parts:[a]})}return i}i.d(t,{Z:function(){return h}});var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},r=l&&(document.head||document.getElementsByTagName("head")[0]),a=null,o=0,m=!1,c=function(){},d=null,u="data-vue-ssr-id",g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(e,t,i,l){m=i,d=l||{};var r=n(e,t);return f(r),function(t){for(var i=[],l=0;l<r.length;l++){var a=s[r[l].id];a.refs--,i.push(a)}t?f(r=n(e,t)):r=[];for(var l=0;l<i.length;l++){var a=i[l];if(0===a.refs){for(var o=0;o<a.parts.length;o++)a.parts[o]();delete s[a.id]}}}}function f(e){for(var t=0;t<e.length;t++){var i=e[t],n=s[i.id];if(n){n.refs++;for(var l=0;l<n.parts.length;l++)n.parts[l](i.parts[l]);for(;l<i.parts.length;l++)n.parts.push(p(i.parts[l]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{for(var r=[],l=0;l<i.parts.length;l++)r.push(p(i.parts[l]));s[i.id]={id:i.id,refs:1,parts:r}}}}function v(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function p(e){var t,i,n=document.querySelector("style["+u+'~="'+e.id+'"]');if(n){if(m)return c;n.parentNode.removeChild(n)}if(g){var l=o++;t=_.bind(null,n=a||(a=v()),l,!1),i=_.bind(null,n,l,!0)}else t=w.bind(null,n=v()),i=function(){n.parentNode.removeChild(n)};return t(e),function(n){n?(n.css!==e.css||n.media!==e.media||n.sourceMap!==e.sourceMap)&&t(e=n):i()}}var y=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}();function _(e,t,i,n){var l=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=y(t,l);else{var s=document.createTextNode(l),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(s,r[t]):e.appendChild(s)}}function w(e,t){var i=t.css,n=t.media,l=t.sourceMap;if(n&&e.setAttribute("media",n),d.ssrId&&e.setAttribute(u,t.id),l&&(i+="\n/*# sourceURL="+l.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}}}]);